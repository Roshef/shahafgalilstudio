<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shahaf — Portfolio — CRT VHS 1.9.0</title>
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #000;
      font-family: 'VT323', monospace;
      color: #7a0d0d;
      overflow-x: hidden;
    }

    .scanlines-overlay {
      pointer-events: none;
      position: fixed;
      inset: 0;
      z-index: 2;
      animation: scanShift 0.8s linear infinite;
      opacity: 0.40;
    }
    @keyframes scanShift {
      0%   { background-position: 0 0; }
      100% { background-position: 0 4px; }
    }

    .vhs-bar {
      pointer-events: none;
      position: fixed;
      left: 0;
      width: 100%;
      z-index: 3;
      height: 190px;
      top: -200vh;
    }
    #vhs1 { display: none; }

    .crt-layer {
      position: relative;
      z-index: 4;
      animation: crtFlicker 2.5s infinite steps(2, end);
    }
    @keyframes crtFlicker {
      0% { opacity: 1; }
      50% { opacity: 0.97; }
      100% { opacity: 1; }
    }

    /* Splash screen */
    #splash {
      position: fixed;
      inset: 0;
      background: #000;
      z-index: 20;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .splash-inner {
      text-align: center;
    }
    .splash-line {
      opacity: 0;
      transition: opacity 0.15s linear;
      font-size: 2.2rem;
    }
    .splash-sub {
      opacity: 0;
      transition: opacity 0.15s linear;
      margin-top: 0.3rem;
      font-size: 1.1rem;
      font-weight: 700;
    }

    /* glitch states */
    .gl1 { opacity: 0.2 !important; }
    .gl2 { opacity: 0.05 !important; }
    .gl3 { opacity: 1 !important; }
  </style>
</head>
<body>
  <div id="scanlines" class="scanlines-overlay"></div>
  <div id="vhs1" class="vhs-bar"></div>
  <div id="vhs2" class="vhs-bar"></div>

  <div id="splash">
    <div class="splash-inner">
      <div id="splash-name" class="splash-line">Shahaf Galil</div>
      <div id="splash-sub" class="splash-sub">Studio / סטודיו</div>
    </div>
  </div>

  <div id="app" class="crt-layer"></div>

<script>
  // --- ANSI palettes (16 original + teal/orange + film LUT) ---
  const ANSI_PALETTES = [
    { bright:"#808080", dark:"#000000" },
    { bright:"#ff0000", dark:"#800000" },
    { bright:"#00ff00", dark:"#008000" },
    { bright:"#ffff00", dark:"#808000" },
    { bright:"#0000ff", dark:"#000080" },
    { bright:"#ff00ff", dark:"#800080" },
    { bright:"#00ffff", dark:"#008080" },
    { bright:"#ffffff", dark:"#c0c0c0" },
    { bright:"#a8a8a8", dark:"#404040" },
    { bright:"#ff4d4d", dark:"#7a0d0d" },
    { bright:"#66ff66", dark:"#2a7a2a" },
    { bright:"#ffff66", dark:"#7a7a2a" },
    { bright:"#4d4dff", dark:"#0d0d7a" },
    { bright:"#ff4dff", dark:"#7a0d7a" },
    { bright:"#4dffff", dark:"#0d7a7a" },
    { bright:"#ffffff", dark:"#e5e5e5" },
    // Teal & Orange
    { bright:"#4deaff", dark:"#ff8c42" },
    // Film LUT (Kodak-ish)
    { bright:"#ffd6a5", dark:"#2a3d55" }
  ];

  function choosePalette() {
    let idx = parseInt(localStorage.getItem("ansiPairIndex") || "0");
    idx = (idx + 1) % ANSI_PALETTES.length;
    localStorage.setItem("ansiPairIndex", idx);
    return ANSI_PALETTES[idx];
  }

  const colors = choosePalette();
  const bright = colors.bright;
  const dark   = colors.dark;

  document.body.style.color = dark;

  const scanEl   = document.getElementById("scanlines");
  const vhs2     = document.getElementById("vhs2");
  const appEl    = document.getElementById("app");
  const splashEl = document.getElementById("splash");
  const splashName = document.getElementById("splash-name");
  const splashSub  = document.getElementById("splash-sub");

  // Apply colors to splash from current palette
  if (splashName) splashName.style.color = bright;
  if (splashSub)  splashSub.style.color  = dark;

  // Initially hide CRT layer visuals
  scanEl.style.display = "none";
  vhs2.style.display   = "none";

  // Scanlines pattern based on bright color
  scanEl.style.backgroundImage = "repeating-linear-gradient(0deg," +
    bright + "55 0px," +
    bright + "55 2px," +
    "transparent 2px, transparent 4px)";

  // VHS gradient based on bright color
  const centerAlpha = 0.30;
  const softness = 1.0;
  function alphaToHex(a) {
    const v = Math.round(a * 255);
    return v.toString(16).padStart(2, "0");
  }
  const midHex   = alphaToHex(centerAlpha);
  const edgeAlpha= centerAlpha * (0.3 + 0.4 * (1 - softness));
  const edgeHex  = alphaToHex(edgeAlpha);
  const vhsGradient = "linear-gradient(to bottom," +
    bright + "00 0%," +
    bright + edgeHex + " 20%," +
    bright + midHex + " 50%," +
    bright + edgeHex + " 80%," +
    bright + "00 100%)";

  vhs2.style.background = vhsGradient;
  vhs2.style.opacity    = 0.6;

  // VHS bar motion (single, slow)
  const totalSpanVh   = 320;
  const durationSec   = 20;
  const speedVhPerSec = totalSpanVh / durationSec;
  let y2 = -120;
  let lastTs = null;

  function animate(ts) {
    if (lastTs === null) {
      lastTs = ts;
      requestAnimationFrame(animate);
      return;
    }
    const dt = (ts - lastTs) / 1000;
    lastTs = ts;
    y2 += speedVhPerSec * dt;
    vhs2.style.top = y2 + "vh";
    if (y2 > 200) y2 = -120;
    requestAnimationFrame(animate);
  }
  requestAnimationFrame(animate);

  // --- Glitch helper (like your approved version) ---
  function glitchBurst(el) {
    setTimeout(() => { el.classList.add("gl1"); }, 40);
    setTimeout(() => { el.classList.remove("gl1"); el.classList.add("gl2"); }, 110);
    setTimeout(() => { el.classList.remove("gl2"); el.classList.add("gl3"); }, 170);
    setTimeout(() => { el.classList.remove("gl3"); }, 260);
  }

  // Boot sequence timing (as you liked):
  // 1s -> show first line + glitch
  // 2.1s -> show second line + glitch
  // 4.2s -> fade out splash
  // 5.0s -> remove splash + load site
  setTimeout(() => {
    splashName.style.opacity = "1";
    glitchBurst(splashName);
  }, 1000);

  setTimeout(() => {
    splashSub.style.opacity = "1";
    glitchBurst(splashSub);
  }, 2100);

  setTimeout(() => {
    splashEl.style.transition = "opacity 0.7s ease-out";
    splashEl.style.opacity = "0";
  }, 5200);

  setTimeout(() => {
    splashEl.style.display = "none";
    initMainLayout();
  }, 6000);

  // --- Main CRT layout w/ full content ---
  function initMainLayout() {
    scanEl.style.display = "block";
    vhs2.style.display   = "block";

    appEl.innerHTML = `
      <div class="min-h-screen grid grid-cols-12">
        <!-- Sidebar -->
        <aside class="col-span-12 md:col-span-4 xl:col-span-3 p-6 md:p-8 sticky top-0 h-full md:min-h-screen">
          <h1 class="text-3xl font-bold tracking-wider" style="color:${bright}">Shahaf Galil_</h1>
          <p class="text-sm opacity-80" style="color:${dark}">Photography ▓ 2025</p>
          <p class="text-xs leading-6 mt-3 opacity-80" style="color:${dark}">
            Jerusalem-based photographer exploring staged narratives & fractured emotional structures.
          </p>

          <nav class="space-y-6 mt-10 text-xs md:text-sm">
            <div>
              <p class="uppercase tracking-wider text-xs opacity-80" style="color:${bright}">Projects</p>
              <ul class="mt-2 space-y-1">
                <!-- Active: Artist Statement -->
                <li class="flex items-center">
                  <a href="#artist-statement" class="flex items-center gap-1">
                    <span style="color:${bright}; text-shadow:0 0 8px ${bright};">&gt;</span>
                    <span style="color:${dark};">Artist Statement</span>
                  </a>
                </li>
                ${["PTSD","Broken Circle","Forbidden Apple","Swan Lake","Lanjeri","12","Hachmi"]
                  .map(t => {
                    const id = t.replace(/\\s+/g, '-').toLowerCase();
                    return `
                      <li class="flex items-center">
                        <a href="#proj-${id}" class="flex items-center gap-1">
                          <span style="color:${dark};">&gt;</span>
                          <span style="color:${dark};">${t}</span>
                        </a>
                      </li>
                    `;
                  }).join("")}
              </ul>
            </div>
          </nav>
        </aside>

        <!-- Main content -->
        <main class="col-span-12 md:col-span-8 xl:col-span-9 p-6 md:p-10 flex items-start justify-center">
          <section id="artist-statement" class="max-w-3xl text-sm md:text-base leading-relaxed space-y-4 bg-black/40 border border-red-900/40 rounded-xl p-6 md:p-8 shadow-xl">
            <h2 class="mb-4">
              <span class="block text-xl md:text-2xl" style="color:${bright};">
                Artist Statement
              </span>
              <span class="block text-[0.7rem] md:text-xs tracking-[0.18em] uppercase mt-1" style="color:${dark};">
                Staged photography as narrative architecture_
              </span>
            </h2>

            <p class="opacity-90" style="color:${dark};">
              My work moves between staged photography and narrative construction. I begin with a clear,
              almost self-evident impression — a scene that feels familiar, legible, even comfortable.
              This initial clarity is intentional: it serves as an entry point, a quiet trap that invites
              the viewer to believe they understand what they see.
            </p>

            <p class="opacity-90" style="color:${dark};">
              But the image is built to fracture. Layer by layer, tension begins to surface: contradictions
              between gesture and setting, between intimacy and distance, between what the frame reveals
              and what it withholds. I construct scenes much like theatrical tableaux — meticulously arranged,
              yet emotionally unstable — where narrative certainty gradually unravels.
            </p>

            <p class="opacity-90" style="color:${dark};">
              For the viewer, this creates a shift from recognition to disorientation, and from disorientation
              to a sharper awareness. The photograph becomes a site of movement: not the movement of bodies,
              but the movement of perception. As the initial impression breaks open, the viewer is drawn into
              an internal trajectory — a narrative arc that unfolds through doubt, suspicion, empathy, and
              eventually a re-reading of the entire scene.
            </p>

            <p class="opacity-90" style="color:${dark};">
              I am interested in how images accumulate meaning over time, and how emotional structures can
              emerge not from action but from stillness. Each photograph is composed as a temporal architecture:
              a layered moment in which memory, identity, and cultural narratives fold into one another.
              The work often inhabits liminal spaces — both physical and psychological — where something has
              ended but nothing fully formed has taken its place.
            </p>

            <p class="opacity-90" style="color:${dark};">
              In this space, certainty dissolves. The viewer is asked to reconsider what they think they know,
              to encounter the instability beneath the surface, and to sit with what remains unresolved.
              Ultimately, the photographs aim to open a space where narrative, emotion, and perception collide —
              revealing not a singular truth, but the tension between competing truths that coexist within
              the same frame.
            </p>
          </section>
        </main>
      </div>
    `;
  }
</script>
</body>
</html>
